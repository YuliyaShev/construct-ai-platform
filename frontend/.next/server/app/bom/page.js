(()=>{var e={};e.id=7580,e.ids=[7580],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},72633:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>o,routeModule:()=>h,tree:()=>c});var a=s(50482),l=s(69108),r=s(62563),i=s.n(r),n=s(68300),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);s.d(t,d);let c=["",{children:["bom",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,94857)),"/Users/juliashevchuk/construct-ai-platform/frontend/src/app/bom/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,59172)),"/Users/juliashevchuk/construct-ai-platform/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,69361,23)),"next/dist/client/components/not-found-error"]}],o=["/Users/juliashevchuk/construct-ai-platform/frontend/src/app/bom/page.tsx"],x="/bom/page",m={require:s,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/bom/page",pathname:"/bom",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},65267:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2583,23)),Promise.resolve().then(s.t.bind(s,26840,23)),Promise.resolve().then(s.t.bind(s,38771,23)),Promise.resolve().then(s.t.bind(s,13225,23)),Promise.resolve().then(s.t.bind(s,9295,23)),Promise.resolve().then(s.t.bind(s,43982,23))},52715:(e,t,s)=>{Promise.resolve().then(s.bind(s,83422))},33457:(e,t,s)=>{Promise.resolve().then(s.bind(s,11858)),Promise.resolve().then(s.bind(s,41845))},83422:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p});var a=s(95344),l=s(3729);let r=[{id:"all",label:"All"},{id:"structural",label:"Structural"},{id:"glass",label:"Glass"},{id:"hardware",label:"Hardware"},{id:"misc",label:"Misc"}];function i({onChange:e}){return a.jsx("div",{className:"flex gap-2",children:r.map(t=>a.jsx("button",{onClick:()=>e(t.id),className:"rounded-md border border-slate-200 px-3 py-1 text-sm hover:bg-slate-50",children:t.label},t.id))})}function n({items:e}){return e?.length?a.jsx("div",{className:"overflow-x-auto rounded-lg border",children:(0,a.jsxs)("table",{className:"min-w-full text-sm",children:[a.jsx("thead",{className:"bg-slate-50 text-slate-600",children:(0,a.jsxs)("tr",{children:[a.jsx("th",{className:"px-3 py-2 text-left",children:"Item"}),a.jsx("th",{className:"px-3 py-2 text-left",children:"Qty"}),a.jsx("th",{className:"px-3 py-2 text-left",children:"Unit"}),a.jsx("th",{className:"px-3 py-2 text-left",children:"Location"}),a.jsx("th",{className:"px-3 py-2 text-left",children:"Notes"})]})}),a.jsx("tbody",{className:"divide-y",children:e.map((e,t)=>(0,a.jsxs)("tr",{className:"odd:bg-white even:bg-slate-50/60",children:[a.jsx("td",{className:"px-3 py-2 font-medium text-slate-900",children:e.name||"—"}),a.jsx("td",{className:"px-3 py-2",children:e.qty??"—"}),a.jsx("td",{className:"px-3 py-2",children:e.unit||"—"}),a.jsx("td",{className:"px-3 py-2",children:e.location||"—"}),a.jsx("td",{className:"px-3 py-2 text-slate-600",children:e.notes||"—"})]},t))})]})}):a.jsx("div",{className:"text-sm text-slate-500 border rounded-lg p-4",children:"No BOM items."})}function d({profiles:e}){return e?.length?a.jsx("div",{className:"overflow-x-auto rounded-lg border",children:(0,a.jsxs)("table",{className:"min-w-full text-sm",children:[a.jsx("thead",{className:"bg-slate-50 text-slate-600",children:(0,a.jsxs)("tr",{children:[a.jsx("th",{className:"px-3 py-2 text-left",children:"Profile"}),a.jsx("th",{className:"px-3 py-2 text-left",children:"Length"}),a.jsx("th",{className:"px-3 py-2 text-left",children:"Qty"}),a.jsx("th",{className:"px-3 py-2 text-left",children:"Material"})]})}),a.jsx("tbody",{className:"divide-y",children:e.map((e,t)=>(0,a.jsxs)("tr",{className:"odd:bg-white even:bg-slate-50/60",children:[a.jsx("td",{className:"px-3 py-2 font-medium text-slate-900",children:e.name||"—"}),a.jsx("td",{className:"px-3 py-2",children:e.length??"—"}),a.jsx("td",{className:"px-3 py-2",children:e.quantity??"—"}),a.jsx("td",{className:"px-3 py-2",children:e.material||"—"})]},t))})]})}):a.jsx("div",{className:"text-sm text-slate-500 border rounded-lg p-4",children:"No geometry profiles."})}function c({items:e}){return a.jsx("button",{onClick:()=>{let t=function(e){if(!e.length)return"";let t=Object.keys(e[0]),s=e.map(e=>t.map(t=>JSON.stringify(e[t]??"")).join(","));return[t.join(","),...s].join("\n")}(e||[]),s=new Blob([t],{type:"text/csv"}),a=URL.createObjectURL(s),l=document.createElement("a");l.href=a,l.download="bom.csv",l.click(),URL.revokeObjectURL(a)},className:"rounded-md border border-slate-200 px-3 py-2 text-sm font-medium hover:bg-slate-50",disabled:!e?.length,children:"Download CSV"})}function o({panels:e,unit:t}){return e?.length?a.jsx("div",{className:"overflow-x-auto rounded-lg border",children:(0,a.jsxs)("table",{className:"min-w-full text-sm",children:[a.jsx("thead",{className:"bg-slate-50 text-slate-600",children:(0,a.jsxs)("tr",{children:[a.jsx("th",{className:"px-3 py-2 text-left",children:"Panel"}),a.jsx("th",{className:"px-3 py-2 text-left",children:"Area"}),a.jsx("th",{className:"px-3 py-2 text-left",children:"Thickness"}),a.jsx("th",{className:"px-3 py-2 text-left",children:"Notes"})]})}),a.jsx("tbody",{className:"divide-y",children:e.map((e,s)=>(0,a.jsxs)("tr",{className:"odd:bg-white even:bg-slate-50/60",children:[a.jsx("td",{className:"px-3 py-2 font-medium text-slate-900",children:e.id??`#${s+1}`}),a.jsx("td",{className:"px-3 py-2",children:"imperial"===t?`${e.area_sqft??0} sqft`:`${e.area_sqm??0} sqm`}),a.jsx("td",{className:"px-3 py-2",children:e.thickness||"—"}),a.jsx("td",{className:"px-3 py-2 text-slate-600",children:e.notes||"—"})]},e.id??s))})]})}):a.jsx("div",{className:"text-sm text-slate-500 border rounded-lg p-4",children:"No glass panels."})}function x({totalSqft:e,totalSqm:t}){return(0,a.jsxs)("div",{className:"rounded-lg border bg-white dark:bg-zinc-900 p-4 shadow-sm flex gap-6 text-sm",children:[(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-xs uppercase text-slate-500",children:"Total Area (sqft)"}),a.jsx("div",{className:"text-xl font-semibold text-slate-900 dark:text-white",children:e?.toFixed(1)??"0.0"})]}),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-xs uppercase text-slate-500",children:"Total Area (sqm)"}),a.jsx("div",{className:"text-xl font-semibold text-slate-900 dark:text-white",children:t?.toFixed(1)??"0.0"})]})]})}var m=s(46540),h=s(5094),u=s(59996);function p(){let[e,t]=(0,l.useState)("1"),[s,r]=(0,l.useState)([]),[p,f]=(0,l.useState)([]),[j,b]=(0,l.useState)([]),[v,g]=(0,l.useState)({sqft:0,sqm:0}),[N,y]=(0,l.useState)(!1),[w,k]=(0,l.useState)(!1),[P,q]=(0,l.useState)(!1),[C,S]=(0,l.useState)(null),[_,M]=(0,l.useState)("imperial"),[z,I]=(0,l.useState)("all"),O=(0,l.useMemo)(()=>"all"===z?s:s.filter(e=>(e.group||"misc")===z),[s,z]),A=async()=>{try{y(!0),S(null);let t=await fetch(`/api/files/${e}/bom`);if(!t.ok)throw Error("Failed to fetch BOM");let s=await t.json();r(s?.materials||[])}catch(e){S(e?.message||"Error"),r([])}finally{y(!1)}},B=async()=>{try{k(!0);let t=await fetch(`/api/files/${e}/bom/geometry`);if(!t.ok)throw Error("Failed to fetch geometry BOM");let s=await t.json();f(s?.profiles||[])}catch(e){S(e?.message||"Error"),f([])}finally{k(!1)}},E=async()=>{try{q(!0);let t=await fetch(`/api/files/${e}/bom/glass`);if(!t.ok)throw Error("Failed to fetch glass BOM");let s=await t.json();b(s?.glass_panels||[]),g({sqft:s?.total_area_sqft||0,sqm:s?.total_area_sqm||0})}catch(e){S(e?.message||"Error"),b([]),g({sqft:0,sqm:0})}finally{q(!1)}};return(0,l.useEffect)(()=>{A(),B(),E()},[]),(0,a.jsxs)("div",{className:"mx-auto max-w-6xl p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Construct AI"}),a.jsx("h1",{className:"text-2xl font-semibold text-slate-900 dark:text-slate-100",children:"Bill of Materials"})]}),a.jsx(c,{items:O})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx(m.I,{value:e,onChange:e=>t(e.target.value),className:"w-32",placeholder:"File ID"}),a.jsx(h.z,{onClick:A,disabled:N,children:"Extract BOM"}),C&&a.jsx("div",{className:"text-sm text-red-600",children:C})]}),a.jsx(i,{onChange:I}),(0,a.jsxs)("div",{className:"grid gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:"Text BOM"}),a.jsx(h.z,{size:"sm",variant:"outline",onClick:A,disabled:N,children:"Refresh"})]}),N?a.jsx(u.O,{className:"h-40 w-full rounded-xl"}):a.jsx(n,{items:O})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:"Geometry BOM"}),a.jsx(h.z,{size:"sm",variant:"outline",onClick:B,disabled:w,children:"Refresh"})]}),w?a.jsx(u.O,{className:"h-40 w-full rounded-xl"}):a.jsx(d,{profiles:p})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:"Glass BOM"}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx("span",{children:"Units:"}),(0,a.jsxs)("select",{className:"border rounded px-2 py-1 bg-white dark:bg-zinc-900 text-sm",value:_,onChange:e=>M(e.target.value),children:[a.jsx("option",{value:"imperial",children:"Imperial"}),a.jsx("option",{value:"metric",children:"Metric"})]})]})]}),a.jsx(h.z,{size:"sm",variant:"outline",onClick:E,disabled:P,children:"Refresh"})]}),P?a.jsx(u.O,{className:"h-40 w-full rounded-xl"}):(0,a.jsxs)("div",{className:"space-y-3",children:[a.jsx(x,{totalSqft:v.sqft,totalSqm:v.sqm}),a.jsx(o,{panels:j,unit:_})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:"Cut List"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx(h.z,{size:"sm",variant:"outline",onClick:()=>window.location.href="/bom/cutlist",children:"Open Cut List"}),a.jsx(h.z,{size:"sm",variant:"outline",onClick:()=>window.location.href="/bom/3d",children:"Open 3D Model"}),a.jsx(h.z,{size:"sm",variant:"outline",onClick:()=>window.location.href="/bom/ifc",children:"BIM / IFC"})]})]}),a.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-300",children:"View detailed cut list with lengths and angles on the Cut List tab, 3D reconstruction on the 3D Model tab, and BIM-ready IFC export on the BIM / IFC tab."})]})]})]})}},11858:(e,t,s)=>{"use strict";s.r(t),s.d(t,{ReactQueryClientProvider:()=>n});var a=s(95344),l=s(16165),r=s(26274),i=s(3729);function n({children:e}){let[t]=(0,i.useState)(()=>new l.S);return a.jsx(r.aH,{client:t,children:e})}},59996:(e,t,s)=>{"use strict";s.d(t,{C:()=>i,O:()=>r});var a=s(95344),l=s(19003);function r({className:e}){return a.jsx("div",{className:(0,l.cn)("animate-pulse rounded-md bg-slate-200 dark:bg-zinc-800",e)})}function i({children:e,className:t}){return a.jsx("span",{className:(0,l.cn)("inline-flex items-center rounded-full bg-slate-100 dark:bg-zinc-800 px-2.5 py-0.5 text-[11px] font-medium text-slate-700 dark:text-slate-200",t),children:e})}},41845:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>j});var a=s(95344),l=s(56506),r=s(8428),i=s(72086),n=s(87164),d=s(6585),c=s(81186),o=s(88322),x=s(20016);let m=[{href:"/",label:"Dashboard",icon:i.Z},{href:"/upload",label:"Upload PDF",icon:n.Z},{href:"/shop-drawing",label:"Shop Drawing",icon:d.Z},{href:"/bom",label:"BOM Extractor",icon:c.Z},{href:"/rfi",label:"RFIs",icon:o.Z},{href:"/image",label:"Image AI",icon:x.Z}];function h(){let e=(0,r.usePathname)();return(0,a.jsxs)("aside",{className:"hidden md:flex flex-col border-r border-slate-200 bg-white px-4 py-6",style:{width:"var(--sidebar-width)"},children:[a.jsx("div",{className:"text-xl font-semibold text-brand-700 px-3 mb-8",children:"Construct AI"}),a.jsx("nav",{className:"flex-1 space-y-2",children:m.map(({href:t,label:s,icon:r})=>{let i=e===t;return(0,a.jsxs)(l.default,{href:t,className:`flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition ${i?"bg-brand-50 text-brand-700 font-semibold":"text-slate-700 hover:bg-slate-100"}`,children:[a.jsx(r,{size:18}),s]},t)})}),a.jsx("div",{className:"text-xs text-slate-500 px-3",children:"v1.0 \xb7 AI Construction Suite"})]})}var u=s(33037);let p={"/":"Dashboard","/upload":"Upload & Analyze PDF","/shop-drawing":"Shop Drawing Checker","/bom":"BOM Extractor","/compare":"Compare Revisions","/rfi":"Auto RFI Generator","/image":"Image Analyzer"};function f(){let e=p[(0,r.usePathname)()]??"Workspace";return(0,a.jsxs)("header",{className:"topbar px-6 py-4 flex items-center justify-between",children:[a.jsx("div",{className:"text-lg font-semibold text-slate-800",children:e}),a.jsx("div",{className:"flex items-center gap-3 text-slate-500",children:a.jsx("button",{className:"p-2 rounded-full hover:bg-slate-100",children:a.jsx(u.Z,{size:18})})})]})}function j({children:e}){return(0,a.jsxs)("div",{className:"layout-shell",children:[a.jsx(h,{}),(0,a.jsxs)("div",{className:"flex flex-col min-h-screen",children:[a.jsx(f,{}),a.jsx("main",{className:"p-6 bg-slate-50 flex-1",children:e})]})]})}},5094:(e,t,s)=>{"use strict";s.d(t,{z:()=>d});var a=s(95344),l=s(3729),r=s(49247),i=s(19003);let n=(0,r.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 disabled:opacity-50 disabled:pointer-events-none",{variants:{variant:{default:"bg-brand-600 text-white hover:bg-brand-700",secondary:"bg-slate-100 text-slate-800 hover:bg-slate-200",ghost:"text-slate-700 hover:bg-slate-100",outline:"border border-slate-200 text-slate-800 hover:bg-slate-50"},size:{default:"h-10 px-4",sm:"h-9 px-3",xs:"h-8 px-2.5 text-xs",lg:"h-11 px-6",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),d=l.forwardRef(({className:e,variant:t,size:s,...l},r)=>a.jsx("button",{ref:r,className:(0,i.cn)(n({variant:t,size:s}),e),...l}));d.displayName="Button"},46540:(e,t,s)=>{"use strict";s.d(t,{I:()=>i});var a=s(95344),l=s(3729),r=s(19003);let i=l.forwardRef(({className:e,...t},s)=>a.jsx("input",{ref:s,className:(0,r.cn)("flex h-10 w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm placeholder:text-slate-400 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500",e),...t}));i.displayName="Input"},19003:(e,t,s)=>{"use strict";s.d(t,{cn:()=>r});var a=s(56815),l=s(79377);function r(...e){return(0,l.m6)((0,a.W)(e))}},94857:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>r,__esModule:()=>l,default:()=>i});let a=(0,s(86843).createProxy)(String.raw`/Users/juliashevchuk/construct-ai-platform/frontend/src/app/bom/page.tsx`),{__esModule:l,$$typeof:r}=a,i=a.default},59172:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u,metadata:()=>h});var a=s(25036),l=s(86843);let r=(0,l.createProxy)(String.raw`/Users/juliashevchuk/construct-ai-platform/frontend/src/app/providers.tsx`),{__esModule:i,$$typeof:n}=r;r.default;let d=(0,l.createProxy)(String.raw`/Users/juliashevchuk/construct-ai-platform/frontend/src/app/providers.tsx#ReactQueryClientProvider`);s(5023),s(26904),s(36341);let c=(0,l.createProxy)(String.raw`/Users/juliashevchuk/construct-ai-platform/frontend/src/components/layout/AppShell.tsx`),{__esModule:o,$$typeof:x}=c,m=c.default,h={title:"AI Construction Assistant",description:"AI-powered construction document assistant"};function u({children:e}){return a.jsx("html",{lang:"en",children:a.jsx("body",{children:a.jsx(d,{children:a.jsx(m,{children:e})})})})}},5023:()=>{},36341:()=>{},26904:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[1638,3317,4636],()=>s(72633));module.exports=a})();