(()=>{var e={};e.id=7580,e.ids=[7580],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},72633:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>h,originalPathname:()=>x,pages:()=>d,routeModule:()=>m,tree:()=>o});var a=s(50482),r=s(69108),l=s(62563),n=s.n(l),i=s(68300),c={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>i[e]);s.d(t,c);let o=["",{children:["bom",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,94857)),"/Users/juliashevchuk/construct-ai-platform/frontend/src/app/bom/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,59172)),"/Users/juliashevchuk/construct-ai-platform/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,69361,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/juliashevchuk/construct-ai-platform/frontend/src/app/bom/page.tsx"],x="/bom/page",h={require:s,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/bom/page",pathname:"/bom",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},65267:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2583,23)),Promise.resolve().then(s.t.bind(s,26840,23)),Promise.resolve().then(s.t.bind(s,38771,23)),Promise.resolve().then(s.t.bind(s,13225,23)),Promise.resolve().then(s.t.bind(s,9295,23)),Promise.resolve().then(s.t.bind(s,43982,23))},52715:(e,t,s)=>{Promise.resolve().then(s.bind(s,83422))},33457:(e,t,s)=>{Promise.resolve().then(s.bind(s,11858)),Promise.resolve().then(s.bind(s,41845))},93431:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(69224).Z)("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]])},83422:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>y});var a=s(95344),r=s(3729);let l=[{key:"all",label:"All"},{key:"glass",label:"Glass"},{key:"materials",label:"Materials"},{key:"hardware",label:"Hardware"},{key:"misc",label:"Misc"}];function n({onChange:e}){let[t,s]=(0,r.useState)("all");return a.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:l.map(r=>a.jsx("button",{onClick:()=>{s(r.key),e(r.key)},className:`px-3 py-1 rounded-full border text-sm ${t===r.key?"bg-slate-900 text-white":"bg-white dark:bg-zinc-900 border-slate-200 dark:border-zinc-800 text-slate-700 dark:text-slate-200"}`,children:r.label},r.key))})}var i=s(29824);function c({items:e}){return a.jsx("div",{className:"overflow-x-auto",children:(0,a.jsxs)(i.iA,{children:[a.jsx(i.Et,{children:(0,a.jsxs)(i.TR,{children:[a.jsx(i.TH,{children:"Item"}),a.jsx(i.TH,{children:"Qty"}),a.jsx(i.TH,{children:"Unit"}),a.jsx(i.TH,{children:"Location"}),a.jsx(i.TH,{children:"Notes"})]})}),(0,a.jsxs)(i.XP,{children:[0===e.length&&a.jsx(i.TR,{children:a.jsx(i.TD,{colSpan:5,className:"py-4 text-center text-slate-500",children:"No items found."})}),e.map((e,t)=>(0,a.jsxs)(i.TR,{children:[a.jsx(i.TD,{className:"font-semibold text-slate-900 dark:text-slate-100",children:e.name}),a.jsx(i.TD,{children:e.qty??"—"}),a.jsx(i.TD,{children:e.unit||"—"}),a.jsx(i.TD,{className:"text-sm text-slate-600 dark:text-slate-300",children:e.location||"—"}),a.jsx(i.TD,{className:"text-sm text-slate-600 dark:text-slate-300",children:e.notes||"—"})]},t))]})]})})}function o({profiles:e}){return a.jsx("div",{className:"overflow-x-auto",children:(0,a.jsxs)(i.iA,{children:[a.jsx(i.Et,{children:(0,a.jsxs)(i.TR,{children:[a.jsx(i.TH,{children:"Profile"}),a.jsx(i.TH,{children:"Count"}),a.jsx(i.TH,{children:"Avg Length"}),a.jsx(i.TH,{children:"Total Length"}),a.jsx(i.TH,{children:"Pages"})]})}),(0,a.jsxs)(i.XP,{children:[0===e.length&&a.jsx(i.TR,{children:a.jsx(i.TD,{colSpan:5,className:"py-4 text-center text-slate-500",children:"No geometry BOM found."})}),e.map((e,t)=>(0,a.jsxs)(i.TR,{children:[a.jsx(i.TD,{className:"font-semibold text-slate-900 dark:text-slate-100",children:e.profile}),a.jsx(i.TD,{children:e.count}),(0,a.jsxs)(i.TD,{children:[e.count?(e.total_length/e.count).toFixed(2):"—"," ",e.unit]}),(0,a.jsxs)(i.TD,{children:[e.total_length.toFixed(2)," ",e.unit]}),a.jsx(i.TD,{className:"text-sm text-slate-600 dark:text-slate-300",children:e.source_pages.join(", ")})]},t))]})]})})}var d=s(5094),x=s(93431);function h({items:e}){return(0,a.jsxs)(d.z,{variant:"outline",size:"sm",onClick:()=>{let t=[["Name","Qty","Unit","Location","Notes","Group"],...e.map(e=>[e.name||"",e.qty||"",e.unit||"",e.location||"",(e.notes||"").replace(/,/g,";"),e.group||""])].map(e=>e.join(",")).join("\n"),s=new Blob([t],{type:"text/csv"}),a=URL.createObjectURL(s),r=document.createElement("a");r.href=a,r.download="bom.csv",r.click(),URL.revokeObjectURL(a)},className:"gap-2",children:[a.jsx(x.Z,{className:"h-4 w-4"})," Export CSV"]})}function m({panels:e,unit:t}){return a.jsx("div",{className:"overflow-x-auto",children:(0,a.jsxs)(i.iA,{children:[a.jsx(i.Et,{children:(0,a.jsxs)(i.TR,{children:[a.jsx(i.TH,{children:"Panel Type"}),a.jsx(i.TH,{children:"Width"}),a.jsx(i.TH,{children:"Height"}),a.jsx(i.TH,{children:"Area"}),a.jsx(i.TH,{children:"Page"}),a.jsx(i.TH,{children:"Source"})]})}),(0,a.jsxs)(i.XP,{children:[0===e.length&&a.jsx(i.TR,{children:a.jsx(i.TD,{colSpan:6,className:"py-4 text-center text-slate-500",children:"No glass panels found."})}),e.map((e,s)=>(0,a.jsxs)(i.TR,{children:[a.jsx(i.TD,{className:"font-semibold text-slate-900 dark:text-slate-100",children:e.type||"Glass Panel"}),a.jsx(i.TD,{children:"imperial"===t?u(e.width_mm):p(e.width_mm)}),a.jsx(i.TD,{children:"imperial"===t?u(e.height_mm):p(e.height_mm)}),a.jsx(i.TD,{children:"imperial"===t?f(e.area_sqft):j(e.area_sqm)}),a.jsx(i.TD,{children:e.page||"—"}),a.jsx(i.TD,{className:"text-sm text-slate-600 dark:text-slate-300 capitalize",children:e.source||"—"})]},s))]})]})})}let u=e=>e?`${(e/25.4).toFixed(2)} in`:"—",p=e=>e?`${e.toFixed(1)} mm`:"—",f=e=>e?`${e.toFixed(2)} sq.ft`:"—",j=e=>e?`${e.toFixed(2)} sq.m`:"—";function b({totalSqft:e,totalSqm:t}){return a.jsx("div",{className:"rounded-xl border border-slate-200 dark:border-zinc-800 bg-white/70 dark:bg-zinc-900/60 p-4 shadow-sm flex items-center justify-between",children:(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Total Glass Area"}),(0,a.jsxs)("div",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:[e.toFixed(2)," sq.ft"]}),(0,a.jsxs)("div",{className:"text-sm text-slate-600 dark:text-slate-300",children:[t.toFixed(2)," sq.m"]})]})})}var v=s(46540),g=s(59996);function y(){let[e,t]=(0,r.useState)("1"),[s,l]=(0,r.useState)([]),[i,x]=(0,r.useState)([]),[u,p]=(0,r.useState)([]),[f,j]=(0,r.useState)({sqft:0,sqm:0}),[y,N]=(0,r.useState)(!1),[w,k]=(0,r.useState)(!1),[T,P]=(0,r.useState)(!1),[q,_]=(0,r.useState)(null),[z,C]=(0,r.useState)("imperial"),[D,S]=(0,r.useState)("all"),M=(0,r.useMemo)(()=>"all"===D?s:s.filter(e=>(e.group||"misc")===D),[s,D]),R=async()=>{try{N(!0),_(null);let t=await fetch(`/api/files/${e}/bom`);if(!t.ok)throw Error("Failed to fetch BOM");let s=await t.json();l(s?.materials||[])}catch(e){_(e?.message||"Error"),l([])}finally{N(!1)}},A=async()=>{try{k(!0);let t=await fetch(`/api/files/${e}/bom/geometry`);if(!t.ok)throw Error("Failed to fetch geometry BOM");let s=await t.json();x(s?.profiles||[])}catch(e){_(e?.message||"Error"),x([])}finally{k(!1)}},I=async()=>{try{P(!0);let t=await fetch(`/api/files/${e}/bom/glass`);if(!t.ok)throw Error("Failed to fetch glass BOM");let s=await t.json();p(s?.glass_panels||[]),j({sqft:s?.total_area_sqft||0,sqm:s?.total_area_sqm||0})}catch(e){_(e?.message||"Error"),p([]),j({sqft:0,sqm:0})}finally{P(!1)}};return(0,r.useEffect)(()=>{R(),A(),I()},[]),(0,a.jsxs)("div",{className:"mx-auto max-w-6xl p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Construct AI"}),a.jsx("h1",{className:"text-2xl font-semibold text-slate-900 dark:text-slate-100",children:"Bill of Materials"})]}),a.jsx(h,{items:M})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx(v.I,{value:e,onChange:e=>t(e.target.value),className:"w-32",placeholder:"File ID"}),a.jsx(d.z,{onClick:R,disabled:y,children:"Extract BOM"}),q&&a.jsx("div",{className:"text-sm text-red-600",children:q})]}),a.jsx(n,{onChange:S}),(0,a.jsxs)("div",{className:"grid gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:"Text BOM"}),a.jsx(d.z,{size:"sm",variant:"outline",onClick:R,disabled:y,children:"Refresh"})]}),y?a.jsx(g.O,{className:"h-40 w-full rounded-xl"}):a.jsx(c,{items:M})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:"Geometry BOM"}),a.jsx(d.z,{size:"sm",variant:"outline",onClick:A,disabled:w,children:"Refresh"})]}),w?a.jsx(g.O,{className:"h-40 w-full rounded-xl"}):a.jsx(o,{profiles:i})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:"Glass BOM"}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx("span",{children:"Units:"}),(0,a.jsxs)("select",{className:"border rounded px-2 py-1 bg-white dark:bg-zinc-900 text-sm",value:z,onChange:e=>C(e.target.value),children:[a.jsx("option",{value:"imperial",children:"Imperial"}),a.jsx("option",{value:"metric",children:"Metric"})]})]})]}),a.jsx(d.z,{size:"sm",variant:"outline",onClick:I,disabled:T,children:"Refresh"})]}),T?a.jsx(g.O,{className:"h-40 w-full rounded-xl"}):(0,a.jsxs)("div",{className:"space-y-3",children:[a.jsx(b,{totalSqft:f.sqft,totalSqm:f.sqm}),a.jsx(m,{panels:u,unit:z})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:"Cut List"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx(d.z,{size:"sm",variant:"outline",onClick:()=>window.location.href="/bom/cutlist",children:"Open Cut List"}),a.jsx(d.z,{size:"sm",variant:"outline",onClick:()=>window.location.href="/bom/3d",children:"Open 3D Model"}),a.jsx(d.z,{size:"sm",variant:"outline",onClick:()=>window.location.href="/bom/ifc",children:"BIM / IFC"})]})]}),a.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-300",children:"View detailed cut list with lengths and angles on the Cut List tab, 3D reconstruction on the 3D Model tab, and BIM-ready IFC export on the BIM / IFC tab."})]})]})]})}},11858:(e,t,s)=>{"use strict";s.r(t),s.d(t,{ReactQueryClientProvider:()=>i});var a=s(95344),r=s(16165),l=s(26274),n=s(3729);function i({children:e}){let[t]=(0,n.useState)(()=>new r.S);return a.jsx(l.aH,{client:t,children:e})}},59996:(e,t,s)=>{"use strict";s.d(t,{C:()=>n,O:()=>l});var a=s(95344),r=s(19003);function l({className:e}){return a.jsx("div",{className:(0,r.cn)("animate-pulse rounded-md bg-slate-200 dark:bg-zinc-800",e)})}function n({children:e,className:t}){return a.jsx("span",{className:(0,r.cn)("inline-flex items-center rounded-full bg-slate-100 dark:bg-zinc-800 px-2.5 py-0.5 text-[11px] font-medium text-slate-700 dark:text-slate-200",t),children:e})}},41845:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>j});var a=s(95344),r=s(56506),l=s(8428),n=s(72086),i=s(87164),c=s(6585),o=s(81186),d=s(88322),x=s(20016);let h=[{href:"/",label:"Dashboard",icon:n.Z},{href:"/upload",label:"Upload PDF",icon:i.Z},{href:"/shop-drawing",label:"Shop Drawing",icon:c.Z},{href:"/bom",label:"BOM Extractor",icon:o.Z},{href:"/rfi",label:"RFIs",icon:d.Z},{href:"/image",label:"Image AI",icon:x.Z}];function m(){let e=(0,l.usePathname)();return(0,a.jsxs)("aside",{className:"hidden md:flex flex-col border-r border-slate-200 bg-white px-4 py-6",style:{width:"var(--sidebar-width)"},children:[a.jsx("div",{className:"text-xl font-semibold text-brand-700 px-3 mb-8",children:"Construct AI"}),a.jsx("nav",{className:"flex-1 space-y-2",children:h.map(({href:t,label:s,icon:l})=>{let n=e===t;return(0,a.jsxs)(r.default,{href:t,className:`flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition ${n?"bg-brand-50 text-brand-700 font-semibold":"text-slate-700 hover:bg-slate-100"}`,children:[a.jsx(l,{size:18}),s]},t)})}),a.jsx("div",{className:"text-xs text-slate-500 px-3",children:"v1.0 \xb7 AI Construction Suite"})]})}var u=s(33037);let p={"/":"Dashboard","/upload":"Upload & Analyze PDF","/shop-drawing":"Shop Drawing Checker","/bom":"BOM Extractor","/compare":"Compare Revisions","/rfi":"Auto RFI Generator","/image":"Image Analyzer"};function f(){let e=p[(0,l.usePathname)()]??"Workspace";return(0,a.jsxs)("header",{className:"topbar px-6 py-4 flex items-center justify-between",children:[a.jsx("div",{className:"text-lg font-semibold text-slate-800",children:e}),a.jsx("div",{className:"flex items-center gap-3 text-slate-500",children:a.jsx("button",{className:"p-2 rounded-full hover:bg-slate-100",children:a.jsx(u.Z,{size:18})})})]})}function j({children:e}){return(0,a.jsxs)("div",{className:"layout-shell",children:[a.jsx(m,{}),(0,a.jsxs)("div",{className:"flex flex-col min-h-screen",children:[a.jsx(f,{}),a.jsx("main",{className:"p-6 bg-slate-50 flex-1",children:e})]})]})}},5094:(e,t,s)=>{"use strict";s.d(t,{z:()=>c});var a=s(95344),r=s(3729),l=s(49247),n=s(19003);let i=(0,l.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 disabled:opacity-50 disabled:pointer-events-none",{variants:{variant:{default:"bg-brand-600 text-white hover:bg-brand-700",secondary:"bg-slate-100 text-slate-800 hover:bg-slate-200",ghost:"text-slate-700 hover:bg-slate-100",outline:"border border-slate-200 text-slate-800 hover:bg-slate-50"},size:{default:"h-10 px-4",sm:"h-9 px-3",xs:"h-8 px-2.5 text-xs",lg:"h-11 px-6",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),c=r.forwardRef(({className:e,variant:t,size:s,...r},l)=>a.jsx("button",{ref:l,className:(0,n.cn)(i({variant:t,size:s}),e),...r}));c.displayName="Button"},46540:(e,t,s)=>{"use strict";s.d(t,{I:()=>n});var a=s(95344),r=s(3729),l=s(19003);let n=r.forwardRef(({className:e,...t},s)=>a.jsx("input",{ref:s,className:(0,l.cn)("flex h-10 w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm placeholder:text-slate-400 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500",e),...t}));n.displayName="Input"},29824:(e,t,s)=>{"use strict";s.d(t,{Et:()=>n,TD:()=>d,TH:()=>o,TR:()=>c,XP:()=>i,iA:()=>l});var a=s(95344);s(3729);var r=s(19003);function l({className:e,...t}){return a.jsx("table",{className:(0,r.cn)("w-full text-sm text-left",e),...t})}function n({className:e,...t}){return a.jsx("thead",{className:(0,r.cn)("text-xs uppercase text-slate-500",e),...t})}function i({className:e,...t}){return a.jsx("tbody",{className:(0,r.cn)("divide-y divide-slate-100",e),...t})}function c({className:e,...t}){return a.jsx("tr",{className:(0,r.cn)("hover:bg-slate-50",e),...t})}function o({className:e,...t}){return a.jsx("th",{className:(0,r.cn)("px-3 py-2 font-semibold",e),...t})}function d({className:e,...t}){return a.jsx("td",{className:(0,r.cn)("px-3 py-2 text-slate-800",e),...t})}},19003:(e,t,s)=>{"use strict";s.d(t,{cn:()=>l});var a=s(56815),r=s(79377);function l(...e){return(0,r.m6)((0,a.W)(e))}},94857:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>l,__esModule:()=>r,default:()=>n});let a=(0,s(86843).createProxy)(String.raw`/Users/juliashevchuk/construct-ai-platform/frontend/src/app/bom/page.tsx`),{__esModule:r,$$typeof:l}=a,n=a.default},59172:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u,metadata:()=>m});var a=s(25036),r=s(86843);let l=(0,r.createProxy)(String.raw`/Users/juliashevchuk/construct-ai-platform/frontend/src/app/providers.tsx`),{__esModule:n,$$typeof:i}=l;l.default;let c=(0,r.createProxy)(String.raw`/Users/juliashevchuk/construct-ai-platform/frontend/src/app/providers.tsx#ReactQueryClientProvider`);s(5023),s(26904),s(36341);let o=(0,r.createProxy)(String.raw`/Users/juliashevchuk/construct-ai-platform/frontend/src/components/layout/AppShell.tsx`),{__esModule:d,$$typeof:x}=o,h=o.default,m={title:"AI Construction Assistant",description:"AI-powered construction document assistant"};function u({children:e}){return a.jsx("html",{lang:"en",children:a.jsx("body",{children:a.jsx(c,{children:a.jsx(h,{children:e})})})})}},5023:()=>{},36341:()=>{},26904:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[1638,3317,4636],()=>s(72633));module.exports=a})();